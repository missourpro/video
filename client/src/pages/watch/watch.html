<ion-header>
  <ion-navbar>
    <ion-buttons start>
      <button ion-button icon-only (click)="createWatcher()">
        <ion-icon name="add-circle"></ion-icon>
        New Watcher
      </button>
    </ion-buttons>
    <ion-title>Watch</ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding>
  <ion-card class="watcher" *ngFor="let watcher of watchers; let index=index">
    <ion-item [class.running]="watcher?.state==='running'" [class.paused]="watcher?.state==='paused'" [class.failed]="watcher?.state==='failed'">
      <ion-icon name="eye" item-left large color="light"></ion-icon>
      <h1 color="light">{{watcher?.website}}</h1>
      <h2 color="light">{{watcher?.createdAt?.toISOString()}}</h2>
    </ion-item>
    <ion-item>
      <button ion-button icon-left clear item-left (click)="toggleWatcher(index)">
        <ng-container [ngSwitch]="watcher?.state">
          <ng-container *ngSwitchCase="'running'">
            <ion-icon name="pause"></ion-icon>
            Pause
          </ng-container>
          <ng-container *ngSwitchDefault>
            <ion-icon name="play"></ion-icon>
            Start
          </ng-container>
        </ng-container>

      </button>
      <button ion-button icon-left clear item-right color="danger"(click)="removeWatcher(index)">
        <ion-icon name="trash"></ion-icon>
        Remove
    </button>
    </ion-item>
  </ion-card>
</ion-content>
<ion-footer>
  <ion-toolbar>
  </ion-toolbar>
</ion-footer>
